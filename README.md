# SchASPLM
This repository contains our latest results on autoformalising ASP programs for Scheduling Problems using LLMs. We investigate different LLMs capabilities of generating ASP-programs for different scheduling problems. We look at the performance of the models by themselves, as well as a combination of chain-of-thought and few-shot prompting. 

## System Input
The system is set up to take the following inputs about the problem:

    - Problem description
        A short textual description of the problem
    - Instance details
        A list of the variables that make instances unique
    - Hard constrains
        A list of hard constraints which cannot be violated
    - Soft constraints
        A list of soft constraints. These constrains can be violated but each violation will incur a penalty.

For each of these sections, a bespoke chain of prompt can help to write the required code via few shot learning with examples specific to the types of ASP rules we are looking to generate.

## Running the Code
All code can be run from the jupyter notebooks in the main directory.

## Results
We tested baseline models and the (chain-of-thought + few-shot prompting) approach for three models:
- Deepseek V3 ()
- Meta-Llama-3-8B-Instruct ()
- Meta-Llama-3-70B-Instruct ()

```{=latex}

% Please add the following required packages to your document preamble:
% \usepackage[table,xcdraw]{xcolor}
% Beamer presentation requires \usepackage{colortbl} instead of \usepackage[table,xcdraw]{xcolor}
\begin{table}[]
\begin{tabular}{|l|llllllllllll|l|l|l|l|l|l|l|l|l|l|l|}
\hline
                  & \multicolumn{6}{c|}{\cellcolor[HTML]{96FFFB}Base line Model}                                                                                                                                                                                                                                                                       & \multicolumn{6}{c|}{\cellcolor[HTML]{FFFFC7}AASP}                                                                                                                                                                                                                                                          &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
                  & \multicolumn{1}{c|}{\cellcolor[HTML]{96FFFB}Deepseek} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}}     & \multicolumn{1}{c|}{\cellcolor[HTML]{96FFFB}Llama 8B} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}}     & \multicolumn{1}{c|}{\cellcolor[HTML]{96FFFB}Llama 70b} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}}     & \multicolumn{1}{c|}{\cellcolor[HTML]{FFFFC7}Deepseek} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}}    & \multicolumn{1}{c|}{\cellcolor[HTML]{FFFFC7}Llama 8B} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}}    & \multicolumn{1}{c|}{\cellcolor[HTML]{FFFFC7}Llama 70b} & \cellcolor[HTML]{FFFFC7}    &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
                  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}Syn}      & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}Sem}  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}Syn}      & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}Sem}  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}Syn}       & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}Sem}  & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}Syn}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}Sem} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}Syn}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}Sem} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}Syn}       & \cellcolor[HTML]{FFFFC7}Sem &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
                  & \multicolumn{12}{c|}{Exam Timetabling}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Instances         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}     & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}     & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}      & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Generator         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}0}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Hard Constraints  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}5/7}  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}6/7}  & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}5/6} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}0}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Soft Contstraints & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0/7}  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1/6}  & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}4/6} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}2/6}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}0}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
                  & \multicolumn{12}{c|}{Course Timetabling}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Instances         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}     & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}     & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}      & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Generator         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}    & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}0}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Hard Constraints  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}    & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}6/6} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}5/6}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}2/6} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Soft Contstraints & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0/6}  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}2/3}  & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}2/3}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}2/3} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}2/3}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1/3} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
                  & \multicolumn{12}{c|}{Nurse Scheduling}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} \\ \hline
Instances         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}     & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}     & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.}      & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}n.a.} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Generator         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}0}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Hard Constraints  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}6/8}  & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}1/6}       & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}7/8}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}7/8} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}7/8}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}2/8} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
Soft Contstraints & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}        & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}         & \multicolumn{1}{l|}{\cellcolor[HTML]{96FFFB}0}    & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1/1}      & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1/1} & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}        & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}0}   & \multicolumn{1}{l|}{\cellcolor[HTML]{FFFFC7}1}         & \cellcolor[HTML]{FFFFC7}1   &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       &                       \\ \hline
\end{tabular}
\end{table}

```
